<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pipeline: Code Similarity &mdash; HPCFAIR  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installation" href="../0_index/installation.html" />
    <link rel="prev" title="Getting Started" href="../0_index/getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            HPCFAIR
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../0_index/getting_started.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../0_index/getting_started.html#installation">Installation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../0_index/getting_started.html#pipelines">Pipelines</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Pipeline: Code Similarity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-models">Supported Models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../0_index/getting_started.html#tokenizer">Tokenizer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../0_index/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_index/api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_index/hf_reference.html">Hugging Face Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HPCFAIR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../0_index/getting_started.html">Getting Started</a></li>
      <li class="breadcrumb-item active">Pipeline: Code Similarity</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/1_pipelines/similarity_checking.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pipeline-code-similarity">
<h1>Pipeline: Code Similarity<a class="headerlink" href="#pipeline-code-similarity" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>The Code Similarity API is designed to compare the semantic similarity between two code snippets. It leverages the Hugging Face Transformers library and can be easily customized to use different models. The API receives two code snippets as input and returns a similarity score between 0 and 1, where 1 indicates high semantic similarity and 0 indicates low or no similarity.</p>
</section>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this heading"></a></h2>
<p>To use the Code Similarity API, you will need to install the HPCFAIR Transformers library. Please refer to the <a class="reference internal" href="../0_index/installation.html"><span class="std std-doc">installation</span></a>.</p>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<section id="importing-the-library">
<h3>Importing the Library<a class="headerlink" href="#importing-the-library" title="Permalink to this heading"></a></h3>
<p>First, you need to import the Hugging Face pipeline function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">pipeline</span>
</pre></div>
</div>
</section>
<section id="creating-the-pipeline">
<h3>Creating the Pipeline<a class="headerlink" href="#creating-the-pipeline" title="Permalink to this heading"></a></h3>
<p>Next, create a pipeline for the “code-similarity” task, specifying the desired model. In this example, we are using the “bert-base-uncased” model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pipe</span> <span class="o">=</span> <span class="n">pipeline</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;bert-base-uncased&quot;</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s2">&quot;code-similarity&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use different models by specifying their names in the model parameter. Ensure that the model is compatible with the “code-similarity” task.</p>
</section>
<section id="using-the-api">
<h3>Using the API<a class="headerlink" href="#using-the-api" title="Permalink to this heading"></a></h3>
<p>To use the Code Similarity API, pass the two code snippets as a tuple to the pipe function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">similarity_score</span> <span class="o">=</span> <span class="n">pipe</span><span class="p">((</span><span class="n">code_snippet1</span><span class="p">,</span> <span class="n">code_snippet2</span><span class="p">))</span>
</pre></div>
</div>
<p>similarity_score will be a float value between 0 and 1, representing the semantic similarity between the two code snippets.</p>
</section>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h2>
<p>Here’s a complete example of using the Code Similarity API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">pipeline</span>

<span class="c1"># Create the pipeline</span>
<span class="n">pipe</span> <span class="o">=</span> <span class="n">pipeline</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;bert-base-uncased&quot;</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s2">&quot;code-similarity&quot;</span><span class="p">)</span>

<span class="c1"># Define the code snippets</span>
<span class="n">code_snippet1</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">def add(a, b):</span>
<span class="s2">    return a + b</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">code_snippet2</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">def sum(a, b):</span>
<span class="s2">    return a + b</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># Get the similarity score</span>
<span class="n">similarity_score</span> <span class="o">=</span> <span class="n">pipe</span><span class="p">((</span><span class="n">code_snippet1</span><span class="p">,</span> <span class="n">code_snippet2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Similarity Score:&quot;</span><span class="p">,</span> <span class="n">similarity_score</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="supported-models">
<h2>Supported Models<a class="headerlink" href="#supported-models" title="Permalink to this heading"></a></h2>
<p>The Code Similarity API is designed to work with a variety of models. To find a suitable model for the “code-similarity” task, please refer to the Hugging Face Model Hub:</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../0_index/getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../0_index/installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Chunhua Leo Liao.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>